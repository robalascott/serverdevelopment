<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="template.xhtml">



	<ui:define name="metadata">
		<f:metadata>
			<f:viewParam name="profile" value="#{flowBean.displayName}" />
		</f:metadata>
	</ui:define>
	
	<ui:define name="content">
		<h1>Welcome to #{flowBean.displayName}s flow</h1>
		
		<ui:repeat var="message" value="#{flowBean.getMessages()}">
			<p:panel id="basic" header="#{message.sender}" style="margin-bottom:20px">
				<h:panelGrid columns="2" cellpadding="10">
					<h:outputText value="#{message.message}" />
				</h:panelGrid>
			</p:panel>
		</ui:repeat>
		<div>
			<o:form includeViewParams="true">
				<div>
					<h:inputTextarea rows="10" cols="50" value="#{flowBean.message}"/>
				</div>
				<div>
					<h:commandButton styleClass="ui-priority-primary contentbutton" value="Post" action="#{flowBean.post()}" />
				</div>
			</o:form>
		</div>
	</ui:define>
	
	<ui:define name="footer">
	</ui:define>
</ui:composition>
</html>
