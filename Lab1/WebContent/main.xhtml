<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:o="http://omnifaces.org/ui">
<h:head>
  <h:outputScript library="primefaces" name="jquery/jquery.js" />
</h:head>

<h:body>
	<ui:composition template="templates/template.xhtml">
		<ui:define name="title">Welcome #{flowBean.displayName}</ui:define>
		<ui:define name="top"></ui:define>
		<ui:define name="content">
			<h:form>
				<p:growl id="growl" showDetail="true" autoUpdate="true" />
				<div class="ui-widget-content ui-shadow">
	    	<h1 class="title ui-widget-header" style="margin-left:2px"> Flow </h1>
	        	<ui:repeat var="message" value="#{flowBean.getMessages()}">
	        		<p:panel id="basic" header="#{message.getHeader()}" style="margin-bottom:20px; margin-left:10px">
				        <h:panelGrid columns="1" cellpadding="10">
				            <h:outputText value = "#{message.message}"/>
				        </h:panelGrid>
				    </p:panel>
	        	</ui:repeat>
	        <div class="message">
		        <o:form includeViewParams="true">
		        	<div>
		        		<h:inputTextarea rows="6" cols="50" value="#{flowBean.message}" />
		        	</div>
		        	<div>
		        		<p:commandButton styleClass="ui-priority-primary contentbutton" value="Post" action="#{flowBean.post()}"  />
		        	</div>
		        </o:form>
	        </div>
        </div>
				
				

			</h:form>
		</ui:define>
	</ui:composition>

</h:body>

</html>
